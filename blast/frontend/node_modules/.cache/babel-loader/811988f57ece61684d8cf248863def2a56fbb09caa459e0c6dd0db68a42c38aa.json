{"ast":null,"code":"var _jsxFileName = \"/Users/thecold/Desktop/courses/2025 Spring/Software Engneering/Final Project/blast/frontend/src/components/SinglePlayer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { API_BASE_URL } from '../config';\nimport GuessHistory from './GuessHistory';\nimport './SinglePlayer.css';\n\n// 添加 decryptData 函数\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst decryptData = async encryptedData => {\n  const response = await fetch(`${API_BASE_URL}/api/decrypt`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      encryptedData\n    })\n  });\n  const data = await response.json();\n  return data;\n};\nfunction SinglePlayer() {\n  _s();\n  var _players$player$hidde;\n  // 区域映射\n  const regionMapping = {\n    Asia: ['China', 'Mongolia', 'Indonesia', 'Malaysia', 'Turkey', 'India', 'Israel', 'Jordan', 'Uzbekistan'],\n    Oceania: ['Australia', 'New Zealand'],\n    Europe: ['France', 'Germany', 'Sweden', 'Denmark', 'Poland', 'Spain', 'Italy', 'Finland', 'Norway', 'Latvia', 'Estonia', 'Bosnia and Herzegovina', 'Montenegro', 'Serbia', 'Bulgaria', 'Czech Republic', 'Switzerland', 'Netherlands', 'Slovakia', 'Lithuania', 'Romania', 'United Kingdom', 'Ukraine', 'Belgium', 'Hungary', 'Portugal', 'Kosovo'],\n    Africa: ['South Africa'],\n    SouthAmerica: ['Brazil', 'Uruguay', 'Argentina', 'Chile', 'Guatemala'],\n    NorthAmerica: ['United States', 'Canada'],\n    CIS: ['Russia', 'Kazakhstan', 'Belarus']\n  };\n  const getRegion = country => {\n    for (const [region, countries] of Object.entries(regionMapping)) {\n      if (countries.includes(country)) {\n        return region;\n      }\n    }\n    return 'Other';\n  };\n\n  // 添加国家中英文映射\n  const countryTranslations = {\n    'China': '中国',\n    'Mongolia': '蒙古',\n    'Indonesia': '印度尼西亚',\n    'Malaysia': '马来西亚',\n    'Turkey': '土耳其',\n    'India': '印度',\n    'Israel': '以色列',\n    'Jordan': '约旦',\n    'Uzbekistan': '乌兹别克斯坦',\n    'Australia': '澳大利亚',\n    'New Zealand': '新西兰',\n    'France': '法国',\n    'Germany': '德国',\n    'Sweden': '瑞典',\n    'Denmark': '丹麦',\n    'Poland': '波兰',\n    'Spain': '西班牙',\n    'Italy': '意大利',\n    'Finland': '芬兰',\n    'Norway': '挪威',\n    'Latvia': '拉脱维亚',\n    'Estonia': '爱沙尼亚',\n    'Bosnia and Herzegovina': '波黑',\n    'Montenegro': '黑山',\n    'Serbia': '塞尔维亚',\n    'Bulgaria': '保加利亚',\n    'Czech Republic': '捷克',\n    'Switzerland': '瑞士',\n    'Netherlands': '荷兰',\n    'Slovakia': '斯洛伐克',\n    'Lithuania': '立陶宛',\n    'Romania': '罗马尼亚',\n    'United Kingdom': '英国',\n    'Ukraine': '乌克兰',\n    'Belgium': '比利时',\n    'Hungary': '匈牙利',\n    'Portugal': '葡萄牙',\n    'Kosovo': '科索沃',\n    'South Africa': '南非',\n    'Brazil': '巴西',\n    'Uruguay': '乌拉圭',\n    'Argentina': '阿根廷',\n    'Chile': '智利',\n    'Guatemala': '危地马拉',\n    'United States': '美国',\n    'Canada': '加拿大',\n    'Russia': '俄罗斯',\n    'Kazakhstan': '哈萨克斯坦',\n    'Belarus': '白俄罗斯'\n  };\n  const [player, setPlayer] = useState(null);\n  const [players, setPlayers] = useState({});\n  const [guess, setGuess] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [guessHistory, setGuessHistory] = useState([]);\n  const [remainingGuesses, setRemainingGuesses] = useState(8);\n  const [showGameResult, setShowGameResult] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n\n  // 获取随机选手\n  const fetchRandomPlayer = () => {\n    fetch(`${API_BASE_URL}/api/random-player`).then(response => {\n      if (!response.ok) throw new Error('无法获取随机选手');\n      return response.json();\n    }).then(async data => {\n      const decryptedData = await decryptData(data.encryptedData);\n      setPlayer(decryptedData);\n      setGuess('');\n      setSuggestions([]);\n      setGuessHistory([]);\n      setRemainingGuesses(8);\n      setShowGameResult(false);\n    }).catch(error => console.error('获取随机选手失败:', error));\n  };\n\n  // 获取所有选手数据\n  useEffect(() => {\n    fetch(`${API_BASE_URL}/api/players`).then(response => {\n      if (!response.ok) throw new Error('无法获取选手数据');\n      return response.json();\n    }).then(data => setPlayers(data)).catch(err => console.error('获取玩家数据失败:', err));\n    fetchRandomPlayer();\n  }, []);\n\n  // 处理搜索建议\n  const handleInputChange = e => {\n    const value = e.target.value;\n    setGuess(value);\n    setSelectedIndex(-1);\n    if (!value.trim()) {\n      setSuggestions([]);\n      return;\n    }\n    fetch(`${API_BASE_URL}/api/search-players?query=${value}`).then(response => response.json()).then(data => {\n      setSuggestions(data);\n      // 确保建议列表可见\n      const suggestionsElement = document.querySelector('.suggestions-list');\n      if (suggestionsElement) {\n        suggestionsElement.style.display = 'block';\n      }\n    }).catch(error => console.error('搜索选手失败:', error));\n  };\n  const handleKeyDown = e => {\n    if (suggestions.length === 0) return;\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        const nextIndex = selectedIndex < suggestions.length - 1 ? selectedIndex + 1 : selectedIndex;\n        setSelectedIndex(nextIndex);\n        if (nextIndex >= 0) {\n          setGuess(suggestions[nextIndex].name);\n        }\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        const prevIndex = selectedIndex > 0 ? selectedIndex - 1 : 0;\n        setSelectedIndex(prevIndex);\n        if (prevIndex >= 0) {\n          setGuess(suggestions[prevIndex].name);\n        }\n        break;\n      case 'Enter':\n        e.preventDefault();\n        if (selectedIndex >= 0) {\n          submitGuessWithName(suggestions[selectedIndex].name);\n          setSuggestions([]);\n          setSelectedIndex(-1);\n        } else if (guess.trim()) {\n          submitGuess();\n        }\n        break;\n      default:\n        break;\n    }\n  };\n\n  // 新增函数：提取纯队伍名称（移除角色后缀）\n  const getTeamName = team => {\n    return team.replace(/\\s*\\((coach|benched)\\)$/i, '');\n  };\n\n  // 添加一个新的函数来处理直接用名字提交\n  const submitGuessWithName = playerName => {\n    if (!player || remainingGuesses <= 0) return;\n    let guessedPlayer = players[playerName];\n    if (!guessedPlayer) {\n      const matchedEntry = Object.entries(players).find(([name]) => name.toLowerCase() === playerName.toLowerCase());\n      if (matchedEntry) {\n        guessedPlayer = matchedEntry[1];\n      }\n    }\n    if (!guessedPlayer) {\n      setGuess('');\n      return;\n    }\n\n    // 使用传入的 playerName 构建新的猜测数据\n    const newGuess = {\n      name: playerName,\n      team: guessedPlayer.team,\n      teamCorrect: getTeamName(guessedPlayer.team) === getTeamName(player.team),\n      country: countryTranslations[guessedPlayer.country] || guessedPlayer.country,\n      countryCorrect: String(guessedPlayer.country).toLowerCase() === String(player.country).toLowerCase(),\n      countryRegion: getRegion(guessedPlayer.country),\n      targetCountryRegion: getRegion(player.country),\n      birth_year: compareValues(guessedPlayer.birth_year, player.birth_year),\n      guessedAge: 2025 - guessedPlayer.birth_year,\n      targetAge: 2025 - player.birth_year,\n      role: guessedPlayer.role,\n      roleCorrect: guessedPlayer.role.toLowerCase() === player.role.toLowerCase(),\n      majapp: compareMajors(guessedPlayer.majapp, player.majapp),\n      guessedMajapp: guessedPlayer.majapp,\n      targetMajapp: player.majapp // 添加目标 Major 次数\n    };\n    setGuessHistory(prev => [...prev, newGuess]);\n    setRemainingGuesses(prev => {\n      const newRemaining = prev - 1;\n      // 确保进度条更新\n      document.querySelector('.progress-bar').style.width = `${newRemaining / 8 * 100}%`;\n      return newRemaining;\n    });\n    setGuess('');\n    setSuggestions([]);\n\n    // 检查是否猜对或用完猜测次数\n    if (playerName.toLowerCase() === player.hiddenName.toLowerCase() || remainingGuesses - 1 === 0) {\n      setShowGameResult(true);\n    }\n  };\n\n  // 提交猜测\n  const submitGuess = () => {\n    if (!player || remainingGuesses <= 0 || !guess.trim()) return;\n\n    // 先尝试完全匹配\n    let guessedPlayer = players[guess];\n\n    // 如果完全匹配未找到，再尝试不区分大小写的匹配\n    if (!guessedPlayer) {\n      const matchedEntry = Object.entries(players).find(([name]) => name.toLowerCase() === guess.toLowerCase());\n      if (matchedEntry) {\n        setGuess(matchedEntry[0]); // 设置为正确的大小写形式\n        guessedPlayer = matchedEntry[1];\n      }\n    }\n    if (!guessedPlayer) {\n      setGuess('');\n      return;\n    }\n\n    // 构建新的猜测数据\n    const newGuess = {\n      name: guess,\n      team: guessedPlayer.team,\n      teamCorrect: getTeamName(guessedPlayer.team) === getTeamName(player.team),\n      country: countryTranslations[guessedPlayer.country] || guessedPlayer.country,\n      countryCorrect: String(guessedPlayer.country).toLowerCase() === String(player.country).toLowerCase(),\n      countryRegion: getRegion(guessedPlayer.country),\n      targetCountryRegion: getRegion(player.country),\n      birth_year: compareValues(guessedPlayer.birth_year, player.birth_year),\n      guessedAge: 2025 - guessedPlayer.birth_year,\n      // 修改为2025年\n      targetAge: 2025 - player.birth_year,\n      // 添加目标年龄\n      role: guessedPlayer.role,\n      roleCorrect: guessedPlayer.role.toLowerCase() === player.role.toLowerCase(),\n      majapp: compareMajors(guessedPlayer.majapp, player.majapp),\n      guessedMajapp: guessedPlayer.majapp,\n      targetMajapp: player.majapp // 添加目标 Major 次数\n    };\n    setGuessHistory(prev => [...prev, newGuess]);\n    setRemainingGuesses(prev => {\n      const newRemaining = prev - 1;\n      // 确保进度条更新\n      document.querySelector('.progress-bar').style.width = `${newRemaining / 8 * 100}%`;\n      return newRemaining;\n    });\n    setGuess('');\n    setSuggestions([]);\n\n    // 检查是否猜对或用完猜测次数\n    if (guess.toLowerCase() === player.hiddenName.toLowerCase() || remainingGuesses - 1 === 0) {\n      setShowGameResult(true);\n    }\n  };\n\n  // 修改比较函数的判定逻辑\n  const compareValues = (guessed, target) => {\n    if (guessed === target) return 'correct';\n    const diff = Math.abs(guessed - target);\n    if (diff <= 3) return 'close'; // 修改为 3 年内为接近\n    return guessed > target ? 'higher' : 'lower';\n  };\n  const compareMajors = (guessed, target) => {\n    if (guessed === target) return 'correct';\n    const diff = Math.abs(guessed - target);\n    if (diff <= 2) return 'close'; // 修改为 2 次以内为接近\n    return guessed > target ? 'higher' : 'lower';\n  };\n  const handleContinueGame = () => {\n    setShowGameResult(false);\n    fetchRandomPlayer();\n  };\n  const handleStayHere = () => {\n    setShowGameResult(false);\n  };\n\n  // 添加滚动到底部的函数\n  const scrollToBottom = () => {\n    const element = document.querySelector('.single-player');\n    if (element) {\n      element.scrollTo({\n        top: element.scrollHeight,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  // 在添加新的猜测历史后滚动到底部\n  useEffect(() => {\n    if (guessHistory.length > 0) {\n      scrollToBottom();\n    }\n  }, [guessHistory]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"single-player\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-area\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: guess,\n          onChange: handleInputChange,\n          onKeyDown: handleKeyDown,\n          placeholder: \"\\u8F93\\u5165\\u9009\\u624B\\u540D\\u5B57\",\n          disabled: !player || remainingGuesses <= 0,\n          className: \"player-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 21\n        }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"suggestions-list\",\n          children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `suggestion-item ${index === selectedIndex ? 'selected' : ''}`,\n            onClick: () => {\n              setGuess(suggestion.name);\n              setSuggestions([]);\n              setSelectedIndex(-1);\n            },\n            children: suggestion.name\n          }, suggestion.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: submitGuess,\n          disabled: !player || remainingGuesses <= 0,\n          className: \"submit-button\",\n          children: \"\\u63D0\\u4EA4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchRandomPlayer,\n          className: \"reset-button\",\n          children: \"\\u6362\\u4E00\\u4E2A\\u9009\\u624B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(GuessHistory, {\n        history: guessHistory,\n        player: player\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: `${remainingGuesses / 8 * 100}%`\n          },\n          children: remainingGuesses\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 415,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 414,\n        columnNumber: 17\n      }, this), showGameResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"game-result-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-result-title\",\n          children: guess.toLowerCase() === player.hiddenName.toLowerCase() ? '恭喜猜对了！' : '游戏结束'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-result-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-label\",\n              children: \"\\u9009\\u624B\\u540D\\u5B57:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-value\",\n              children: player.hiddenName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-label\",\n              children: \"\\u6240\\u5C5E\\u6218\\u961F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-value\",\n              children: player.team\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-label\",\n              children: \"\\u56FD\\u5BB6\\u53CA\\u5730\\u533A:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 439,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-value\",\n              children: countryTranslations[player.country] || player.country\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 438,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-label\",\n              children: \"\\u51FA\\u751F\\u5E74\\u4EFD:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-value\",\n              children: player.birth_year\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-label\",\n              children: \"\\u6E38\\u620F\\u89D2\\u8272:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 449,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-value\",\n              children: player.role\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"player-info-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-label\",\n              children: \"Major\\u6B21\\u6570:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"player-info-value\",\n              children: player.majapp\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"game-result-link\",\n            href: (_players$player$hidde = players[player.hiddenName]) === null || _players$player$hidde === void 0 ? void 0 : _players$player$hidde.link,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: \"\\u67E5\\u770B\\u9009\\u624B\\u8D44\\u6599 \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-result-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-continue\",\n            onClick: handleContinueGame,\n            children: \"\\u4E0B\\u4E00\\u4E2A\\u9009\\u624B\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"button-stay\",\n            onClick: handleStayHere,\n            children: \"\\u67E5\\u770B\\u5386\\u53F2\\u8BB0\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 360,\n    columnNumber: 9\n  }, this);\n}\n_s(SinglePlayer, \"rFXw7OGZhcdp0+U2dFDQFF7IuVs=\");\n_c = SinglePlayer;\nexport default SinglePlayer;\nvar _c;\n$RefreshReg$(_c, \"SinglePlayer\");","map":{"version":3,"names":["React","useState","useEffect","API_BASE_URL","GuessHistory","jsxDEV","_jsxDEV","decryptData","encryptedData","response","fetch","method","headers","body","JSON","stringify","data","json","SinglePlayer","_s","_players$player$hidde","regionMapping","Asia","Oceania","Europe","Africa","SouthAmerica","NorthAmerica","CIS","getRegion","country","region","countries","Object","entries","includes","countryTranslations","player","setPlayer","players","setPlayers","guess","setGuess","suggestions","setSuggestions","guessHistory","setGuessHistory","remainingGuesses","setRemainingGuesses","showGameResult","setShowGameResult","selectedIndex","setSelectedIndex","fetchRandomPlayer","then","ok","Error","decryptedData","catch","error","console","err","handleInputChange","e","value","target","trim","suggestionsElement","document","querySelector","style","display","handleKeyDown","length","key","preventDefault","nextIndex","name","prevIndex","submitGuessWithName","submitGuess","getTeamName","team","replace","playerName","guessedPlayer","matchedEntry","find","toLowerCase","newGuess","teamCorrect","countryCorrect","String","countryRegion","targetCountryRegion","birth_year","compareValues","guessedAge","targetAge","role","roleCorrect","majapp","compareMajors","guessedMajapp","targetMajapp","prev","newRemaining","width","hiddenName","guessed","diff","Math","abs","handleContinueGame","handleStayHere","scrollToBottom","element","scrollTo","top","scrollHeight","behavior","className","children","type","onChange","onKeyDown","placeholder","disabled","fileName","_jsxFileName","lineNumber","columnNumber","map","suggestion","index","onClick","history","href","link","rel","_c","$RefreshReg$"],"sources":["/Users/thecold/Desktop/courses/2025 Spring/Software Engneering/Final Project/blast/frontend/src/components/SinglePlayer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { API_BASE_URL } from '../config';\nimport GuessHistory from './GuessHistory';\nimport './SinglePlayer.css';\n\n// 添加 decryptData 函数\nconst decryptData = async (encryptedData) => {\n    const response = await fetch(`${API_BASE_URL}/api/decrypt`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ encryptedData }),\n    });\n    const data = await response.json();\n    return data;\n};\n\nfunction SinglePlayer() {\n    // 区域映射\n    const regionMapping = {\n        Asia: ['China', 'Mongolia', 'Indonesia', 'Malaysia', 'Turkey', 'India', 'Israel', 'Jordan', 'Uzbekistan'],\n        Oceania: ['Australia', 'New Zealand'],\n        Europe: ['France', 'Germany', 'Sweden', 'Denmark', 'Poland', 'Spain', 'Italy', \n                'Finland', 'Norway', 'Latvia', 'Estonia', 'Bosnia and Herzegovina', \n                'Montenegro', 'Serbia', 'Bulgaria', 'Czech Republic', 'Switzerland', \n                'Netherlands', 'Slovakia', 'Lithuania', 'Romania', 'United Kingdom', \n                'Ukraine', 'Belgium', 'Hungary', 'Portugal', 'Kosovo'],\n        Africa: ['South Africa'],\n        SouthAmerica: ['Brazil', 'Uruguay', 'Argentina', 'Chile', 'Guatemala'],\n        NorthAmerica: ['United States', 'Canada'],\n        CIS: ['Russia', 'Kazakhstan', 'Belarus']\n    };\n\n    const getRegion = (country) => {\n        for (const [region, countries] of Object.entries(regionMapping)) {\n            if (countries.includes(country)) {\n                return region;\n            }\n        }\n        return 'Other';\n    };\n\n    // 添加国家中英文映射\n    const countryTranslations = {\n        'China': '中国',\n        'Mongolia': '蒙古',\n        'Indonesia': '印度尼西亚',\n        'Malaysia': '马来西亚',\n        'Turkey': '土耳其',\n        'India': '印度',\n        'Israel': '以色列',\n        'Jordan': '约旦',\n        'Uzbekistan': '乌兹别克斯坦',\n        'Australia': '澳大利亚',\n        'New Zealand': '新西兰',\n        'France': '法国',\n        'Germany': '德国',\n        'Sweden': '瑞典',\n        'Denmark': '丹麦',\n        'Poland': '波兰',\n        'Spain': '西班牙',\n        'Italy': '意大利',\n        'Finland': '芬兰',\n        'Norway': '挪威',\n        'Latvia': '拉脱维亚',\n        'Estonia': '爱沙尼亚',\n        'Bosnia and Herzegovina': '波黑',\n        'Montenegro': '黑山',\n        'Serbia': '塞尔维亚',\n        'Bulgaria': '保加利亚',\n        'Czech Republic': '捷克',\n        'Switzerland': '瑞士',\n        'Netherlands': '荷兰',\n        'Slovakia': '斯洛伐克',\n        'Lithuania': '立陶宛',\n        'Romania': '罗马尼亚',\n        'United Kingdom': '英国',\n        'Ukraine': '乌克兰',\n        'Belgium': '比利时',\n        'Hungary': '匈牙利',\n        'Portugal': '葡萄牙',\n        'Kosovo': '科索沃',\n        'South Africa': '南非',\n        'Brazil': '巴西',\n        'Uruguay': '乌拉圭',\n        'Argentina': '阿根廷',\n        'Chile': '智利',\n        'Guatemala': '危地马拉',\n        'United States': '美国',\n        'Canada': '加拿大',\n        'Russia': '俄罗斯',\n        'Kazakhstan': '哈萨克斯坦',\n        'Belarus': '白俄罗斯'\n    };\n\n    const [player, setPlayer] = useState(null);\n    const [players, setPlayers] = useState({});\n    const [guess, setGuess] = useState('');\n    const [suggestions, setSuggestions] = useState([]);\n    const [guessHistory, setGuessHistory] = useState([]);\n    const [remainingGuesses, setRemainingGuesses] = useState(8);\n    const [showGameResult, setShowGameResult] = useState(false);\n    const [selectedIndex, setSelectedIndex] = useState(-1);\n\n    // 获取随机选手\n    const fetchRandomPlayer = () => {\n        fetch(`${API_BASE_URL}/api/random-player`)\n            .then(response => {\n                if (!response.ok) throw new Error('无法获取随机选手');\n                return response.json();\n            })\n            .then(async data => {\n                const decryptedData = await decryptData(data.encryptedData);\n                setPlayer(decryptedData);\n                setGuess('');\n                setSuggestions([]);\n                setGuessHistory([]);\n                setRemainingGuesses(8);\n                setShowGameResult(false);\n            })\n            .catch(error => console.error('获取随机选手失败:', error));\n    };\n\n    // 获取所有选手数据\n    useEffect(() => {\n        fetch(`${API_BASE_URL}/api/players`)\n            .then(response => {\n                if (!response.ok) throw new Error('无法获取选手数据');\n                return response.json();\n            })\n            .then(data => setPlayers(data))\n            .catch(err => console.error('获取玩家数据失败:', err));\n\n        fetchRandomPlayer();\n    }, []);\n\n    // 处理搜索建议\n    const handleInputChange = (e) => {\n        const value = e.target.value;\n        setGuess(value);\n        setSelectedIndex(-1);\n        \n        if (!value.trim()) {\n            setSuggestions([]);\n            return;\n        }\n\n        fetch(`${API_BASE_URL}/api/search-players?query=${value}`)\n            .then(response => response.json())\n            .then(data => {\n                setSuggestions(data);\n                // 确保建议列表可见\n                const suggestionsElement = document.querySelector('.suggestions-list');\n                if (suggestionsElement) {\n                    suggestionsElement.style.display = 'block';\n                }\n            })\n            .catch(error => console.error('搜索选手失败:', error));\n    };\n\n    const handleKeyDown = (e) => {\n        if (suggestions.length === 0) return;\n\n        switch (e.key) {\n            case 'ArrowDown':\n                e.preventDefault();\n                const nextIndex = selectedIndex < suggestions.length - 1 ? selectedIndex + 1 : selectedIndex;\n                setSelectedIndex(nextIndex);\n                if (nextIndex >= 0) {\n                    setGuess(suggestions[nextIndex].name);\n                }\n                break;\n            case 'ArrowUp':\n                e.preventDefault();\n                const prevIndex = selectedIndex > 0 ? selectedIndex - 1 : 0;\n                setSelectedIndex(prevIndex);\n                if (prevIndex >= 0) {\n                    setGuess(suggestions[prevIndex].name);\n                }\n                break;\n            case 'Enter':\n                e.preventDefault();\n                if (selectedIndex >= 0) {\n                    submitGuessWithName(suggestions[selectedIndex].name);\n                    setSuggestions([]);\n                    setSelectedIndex(-1);\n                } else if (guess.trim()) {\n                    submitGuess();\n                }\n                break;\n            default:\n                break;\n        }\n    };\n\n    // 新增函数：提取纯队伍名称（移除角色后缀）\n    const getTeamName = (team) => {\n        return team.replace(/\\s*\\((coach|benched)\\)$/i, '');\n    };\n\n    // 添加一个新的函数来处理直接用名字提交\n    const submitGuessWithName = (playerName) => {\n        if (!player || remainingGuesses <= 0) return;\n\n        let guessedPlayer = players[playerName];\n        \n        if (!guessedPlayer) {\n            const matchedEntry = Object.entries(players).find(\n                ([name]) => name.toLowerCase() === playerName.toLowerCase()\n            );\n            \n            if (matchedEntry) {\n                guessedPlayer = matchedEntry[1];\n            }\n        }\n\n        if (!guessedPlayer) {\n            setGuess('');\n            return;\n        }\n\n        // 使用传入的 playerName 构建新的猜测数据\n        const newGuess = {\n            name: playerName,\n            team: guessedPlayer.team,\n            teamCorrect: getTeamName(guessedPlayer.team) === getTeamName(player.team),\n            country: countryTranslations[guessedPlayer.country] || guessedPlayer.country,\n            countryCorrect: String(guessedPlayer.country).toLowerCase() === String(player.country).toLowerCase(),\n            countryRegion: getRegion(guessedPlayer.country),\n            targetCountryRegion: getRegion(player.country),\n            birth_year: compareValues(guessedPlayer.birth_year, player.birth_year),\n            guessedAge: 2025 - guessedPlayer.birth_year, \n            targetAge: 2025 - player.birth_year, \n            role: guessedPlayer.role,\n            roleCorrect: guessedPlayer.role.toLowerCase() === player.role.toLowerCase(),\n            majapp: compareMajors(guessedPlayer.majapp, player.majapp),\n            guessedMajapp: guessedPlayer.majapp,\n            targetMajapp: player.majapp // 添加目标 Major 次数\n        };\n\n        setGuessHistory(prev => [...prev, newGuess]);\n        setRemainingGuesses(prev => {\n            const newRemaining = prev - 1;\n            // 确保进度条更新\n            document.querySelector('.progress-bar').style.width = `${(newRemaining / 8) * 100}%`;\n            return newRemaining;\n        });\n        setGuess('');\n        setSuggestions([]);\n\n        // 检查是否猜对或用完猜测次数\n        if (playerName.toLowerCase() === player.hiddenName.toLowerCase() || remainingGuesses - 1 === 0) {\n            setShowGameResult(true);\n        }\n    };\n\n    // 提交猜测\n    const submitGuess = () => {\n        if (!player || remainingGuesses <= 0 || !guess.trim()) return;\n\n        // 先尝试完全匹配\n        let guessedPlayer = players[guess];\n        \n        // 如果完全匹配未找到，再尝试不区分大小写的匹配\n        if (!guessedPlayer) {\n            const matchedEntry = Object.entries(players).find(\n                ([name]) => name.toLowerCase() === guess.toLowerCase()\n            );\n            \n            if (matchedEntry) {\n                setGuess(matchedEntry[0]); // 设置为正确的大小写形式\n                guessedPlayer = matchedEntry[1];\n            }\n        }\n\n        if (!guessedPlayer) {\n            setGuess('');\n            return;\n        }\n\n        // 构建新的猜测数据\n        const newGuess = {\n            name: guess,\n            team: guessedPlayer.team,\n            teamCorrect: getTeamName(guessedPlayer.team) === getTeamName(player.team),\n            country: countryTranslations[guessedPlayer.country] || guessedPlayer.country,\n            countryCorrect: String(guessedPlayer.country).toLowerCase() === String(player.country).toLowerCase(),\n            countryRegion: getRegion(guessedPlayer.country),\n            targetCountryRegion: getRegion(player.country),\n            birth_year: compareValues(guessedPlayer.birth_year, player.birth_year),\n            guessedAge: 2025 - guessedPlayer.birth_year, // 修改为2025年\n            targetAge: 2025 - player.birth_year, // 添加目标年龄\n            role: guessedPlayer.role,\n            roleCorrect: guessedPlayer.role.toLowerCase() === player.role.toLowerCase(),\n            majapp: compareMajors(guessedPlayer.majapp, player.majapp),\n            guessedMajapp: guessedPlayer.majapp,\n            targetMajapp: player.majapp // 添加目标 Major 次数\n        };\n\n        setGuessHistory(prev => [...prev, newGuess]);\n        setRemainingGuesses(prev => {\n            const newRemaining = prev - 1;\n            // 确保进度条更新\n            document.querySelector('.progress-bar').style.width = `${(newRemaining / 8) * 100}%`;\n            return newRemaining;\n        });\n        setGuess('');\n        setSuggestions([]);\n\n        // 检查是否猜对或用完猜测次数\n        if (guess.toLowerCase() === player.hiddenName.toLowerCase() || remainingGuesses - 1 === 0) {\n            setShowGameResult(true);\n        }\n    };\n\n    // 修改比较函数的判定逻辑\n    const compareValues = (guessed, target) => {\n        if (guessed === target) return 'correct';\n        const diff = Math.abs(guessed - target);\n        if (diff <= 3) return 'close'; // 修改为 3 年内为接近\n        return guessed > target ? 'higher' : 'lower';\n    };\n\n    const compareMajors = (guessed, target) => {\n        if (guessed === target) return 'correct';\n        const diff = Math.abs(guessed - target);\n        if (diff <= 2) return 'close'; // 修改为 2 次以内为接近\n        return guessed > target ? 'higher' : 'lower';\n    };\n\n    const handleContinueGame = () => {\n        setShowGameResult(false);\n        fetchRandomPlayer();\n    };\n\n    const handleStayHere = () => {\n        setShowGameResult(false);\n    };\n\n    // 添加滚动到底部的函数\n    const scrollToBottom = () => {\n        const element = document.querySelector('.single-player');\n        if (element) {\n            element.scrollTo({\n                top: element.scrollHeight,\n                behavior: 'smooth'\n            });\n        }\n    };\n\n    // 在添加新的猜测历史后滚动到底部\n    useEffect(() => {\n        if (guessHistory.length > 0) {\n            scrollToBottom();\n        }\n    }, [guessHistory]);\n\n    return (\n        <div className=\"single-player\">\n            <div className=\"game-area\">\n                {/* 输入区域 */}\n                <div className=\"input-section\">\n                    <input\n                        type=\"text\"\n                        value={guess}\n                        onChange={handleInputChange}\n                        onKeyDown={handleKeyDown}\n                        placeholder=\"输入选手名字\"\n                        disabled={!player || remainingGuesses <= 0}\n                        className=\"player-input\"\n                    />\n                    {/* 建议列表 */}\n                    {suggestions.length > 0 && (\n                        <div className=\"suggestions-list\">\n                            {suggestions.map((suggestion, index) => (\n                                <div\n                                    key={suggestion.name}\n                                    className={`suggestion-item ${index === selectedIndex ? 'selected' : ''}`}\n                                    onClick={() => {\n                                        setGuess(suggestion.name);\n                                        setSuggestions([]);\n                                        setSelectedIndex(-1);\n                                    }}\n                                >\n                                    {suggestion.name}\n                                </div>\n                            ))}\n                        </div>\n                    )}\n                </div>\n\n                {/* 按钮区域 */}\n                <div className=\"button-group\">\n                    <button \n                        onClick={submitGuess}\n                        disabled={!player || remainingGuesses <= 0}\n                        className=\"submit-button\"\n                    >\n                        提交\n                    </button>\n                    <button \n                        onClick={fetchRandomPlayer}\n                        className=\"reset-button\"\n                    >\n                        换一个选手\n                    </button>\n                </div>\n\n                {/* 历史记录 */}\n                <GuessHistory history={guessHistory} player={player} />\n\n                {/* 进度条 */}\n                <div className=\"progress-container\">\n                    <div \n                        className=\"progress-bar\"\n                        style={{width: `${(remainingGuesses / 8) * 100}%`}}\n                    >\n                        {remainingGuesses}\n                    </div>\n                </div>\n\n                {/* 修改游戏结果弹窗的内容 */}\n                {showGameResult && (\n                    <div className=\"game-result-modal\">\n                        <div className=\"game-result-title\">\n                            {guess.toLowerCase() === player.hiddenName.toLowerCase() ? '恭喜猜对了！' : '游戏结束'}\n                        </div>\n                        <div className=\"game-result-content\">\n                            <div className=\"player-info-item\">\n                                <span className=\"player-info-label\">选手名字:</span>\n                                <span className=\"player-info-value\">{player.hiddenName}</span>\n                            </div>\n                            <div className=\"player-info-item\">\n                                <span className=\"player-info-label\">所属战队:</span>\n                                <span className=\"player-info-value\">{player.team}</span>\n                            </div>\n                            <div className=\"player-info-item\">\n                                <span className=\"player-info-label\">国家及地区:</span>\n                                <span className=\"player-info-value\">\n                                    {countryTranslations[player.country] || player.country}\n                                </span>\n                            </div>\n                            <div className=\"player-info-item\">\n                                <span className=\"player-info-label\">出生年份:</span>\n                                <span className=\"player-info-value\">{player.birth_year}</span>\n                            </div>\n                            <div className=\"player-info-item\">\n                                <span className=\"player-info-label\">游戏角色:</span>\n                                <span className=\"player-info-value\">{player.role}</span>\n                            </div>\n                            <div className=\"player-info-item\">\n                                <span className=\"player-info-label\">Major次数:</span>\n                                <span className=\"player-info-value\">{player.majapp}</span>\n                            </div>\n                            <a \n                                className=\"game-result-link\"\n                                href={players[player.hiddenName]?.link}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                            >\n                                查看选手资料 →\n                            </a>\n                        </div>\n                        <div className=\"game-result-buttons\">\n                            <button className=\"button-continue\" onClick={handleContinueGame}>\n                                下一个选手\n                            </button>\n                            <button className=\"button-stay\" onClick={handleStayHere}>\n                                查看历史记录\n                            </button>\n                        </div>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default SinglePlayer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}